\section*{Обзор литературы}

\subsection*{Спецификация Java машины}

Главным и официальным источником информации о Java машине и её устройстве является The Java Virtual Machine Specification (JVMS) \cite{jvms}. В данной работе рассматривается JVMS Java SE 13 Edition, посвященная самой актуальной на момент начала работы версии Java, однако, интересующие нас разделы являются основополагающими, и не менялись долгие годы. 
В~разделе 2.3 JVMS описываются типы данных в Java, их размеры и строгая спецификация диапозона допустимых значений. Данный раздел крайне полезен при имплементации трансляции Java значений в значения языка C, и обратно, чтобы не нарушить спецификацию и внутреннее устройство этих языков. Раздел 2.6 является одним из самых основных для данный работы, так как описывает устройство Java фреймов, разработка которых является ключевым этапом в разработке ABI для \gls{порт}[а] Java машины. В этой главе описывается, что фреймы создаются при каждом вызове метода, а текущим фреймом считается тот, что был создан при вызове текущего метода на исполнение. На фреймах хранятся аргументы, локалы, и стек вычислений, а также прочая информация, требуемая реализацией. Аргументы и локалы образуют единый список переменных функции и индексируются совместно таким образом, что если у нас имеется n аргументов и m локалов, то аргументы будут иметь индексы от 0 до n - 1, а локалы от n до n + m - 1. Далее, при исполнении байткодов, логическая грань между переменными и локалами стирается, и всё обращение к ним происходит единообразно по индексу. Информация о количестве локалов, аргументов и размере стека вычислений рассчитывается во время компиляции, и содержится в структуре исполняемого метода.

Стоит отметить, что данная спецификация описывает требования, предъявляемые к системе, но не описывает детали имплементации, и тем более она не описывает устройство OpenJDK, понимание работы которого необходимо для его портирования.


\subsection*{OpenJDK}

Полной и качественной документации по внутреннему устройству OpenJDK не существует, однако весь код проекта находится в открытом доступе, частично задокументирован в виде комментариев к классам и методам, а остальную семантику выполнения процессов интерпретации можно вычитать напрямую из кода \cite{hotspot}.

    Весь проект разделен на общую и платформозависимые части, которые относятся к конкретной операционной системе и процессору. Кодовая база проекта насчитывает 2225 файлов в общей части, суммарной длиной на 353 тысячи строк, а также ,более сотни файлов для каждой платформы, суммарное количество строк которых в диапазоне от 30 до 100 тысяч. Подобные масштабы проекта делают его полное изучение в короткие сроки маловозможным.

Большинство портов OpenJDK написаны на основе других, и по коду, или оставшимся от иной платформы комментариям, можно проследить данное заимствование, что, порой, может усложнять восприятие. Также встречаются редкие расхождения комментариев и имплементации, что так же сбивает с толку при прочтении. При анализе различных портов можно также заметить некоторые общие практики, относящиеся, по большей части, к организации кода и внутренних структур, и, наоборот, сугубо платформоспецифичные, которые уникальны, и не поддаются общей характеристике.


\subsubsection*{Спецификация RISC-V}

Основным документом по работе с архитектурой RISC-V является его официальная спецификация \cite{riscv:spec}, выложенная на оффициальном сайте. В данном документе представлены кодировки и описания всех инструкций и регистров, а также описана специфика вычислений, внутренней работы и прочих аспектов, необходимых для разработчиков, пишущих низкоуровневые приложения под данную платформу. 

Остальную документацию по связанным с RISC-V окружением и компонентами можно найти на их официальной странице в GitHub \cite{riscv:github}. Например, данная страница содержит репозиторий \cite{riscv:convention}, в котором описана конвенция о вызовах~C, описывающая семантику выкладки аргументов в регистры и на стек при вызове C~функций. Также, на данной странице можно найти репозиторий \cite{riscv:asm} с более подробной документацией некоторых ассемблерных особенностей данной платформы.


\subsection*{Выводы}

По данной тематике не удалось найти литературы, описывающей решение конкретной проблемы продумывания и имплементации ABI для OpenJDK, либо портирования OpenJDK на другие платформы, однако в данной среде есть немалое количество документов и спецификаций, посвященных системам, с которыми необходимо плотно работать. Необходимую литературу по OpenJDK можно заменить кодом и комментариями к нему, которые, однако, порой бывают плохого качества или не выверены.
